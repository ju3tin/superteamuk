(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{9490:function(e,t,o){Promise.resolve().then(o.bind(o,3045))},3045:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return s}});var r=o(9268),n=o(6006),a=o(6008);function c(e){let{id:t,title:o,description:c}=e,[i,s]=(0,n.useState)(o),[l,p]=(0,n.useState)(c),u=(0,a.useRouter)(),f=async e=>{e.preventDefault();try{let e=await fetch("http://localhost:3000/api/topics/".concat(t),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({newTitle:i,newDescription:l})});if(!e.ok)throw Error("Failed to update topic");u.refresh(),u.push("/")}catch(e){console.log(e)}};return(0,r.jsxs)("form",{onSubmit:f,className:"flex flex-col gap-3",children:[(0,r.jsx)("input",{onChange:e=>s(e.target.value),value:i,className:"border border-slate-500 px-8 py-2",type:"text",placeholder:"Topic Title"}),(0,r.jsx)("input",{onChange:e=>p(e.target.value),value:l,className:"border border-slate-500 px-8 py-2",type:"text",placeholder:"Topic Description"}),(0,r.jsx)("button",{className:"bg-green-600 font-bold text-white py-3 px-6 w-fit",children:"Update Topic"})]})}let i=async e=>{try{let t=await fetch("http://localhost:3000/api/topics/".concat(e),{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch topic");return t.json()}catch(e){console.log(e)}};async function s(e){let{params:t}=e,[o,a]=(0,n.useState)(""),[s,l]=(0,n.useState)(""),[p,u]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let e=async()=>{try{let{topic:e}=await i(t.id);e?(a(e.title),l(e.description)):u("Failed to fetch topic")}catch(e){console.log("Error loading topic: ",e),u("Failed to fetch topic")}};e()},[t.id]),p)?(0,r.jsxs)("div",{children:["Error: ",p]}):(0,r.jsx)(c,{id:t.id,title:o,description:s,onTitleChange:e=>{a(e.target.value)},onDescriptionChange:e=>{l(e.target.value)}})}},3177:function(e,t,o){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=o(6006),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,o){var r,s={},l=null,p=null;for(r in void 0!==o&&(l=""+o),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(p=t.ref),t)a.call(t,r)&&!i.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:n,type:e,key:l,ref:p,props:s,_owner:c.current}}t.jsx=s,t.jsxs=s},9268:function(e,t,o){"use strict";e.exports=o(3177)},6008:function(e,t,o){e.exports=o(794)}},function(e){e.O(0,[253,769,744],function(){return e(e.s=9490)}),_N_E=e.O()}]);